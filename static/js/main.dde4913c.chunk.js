(this.webpackJsonpstudent_base=this.webpackJsonpstudent_base||[]).push([[0],{219:function(e,t,c){},373:function(e,t,c){},409:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(2),r=c.n(s),n=c(88),i=c.n(n),d=(c(219),c(10)),o=c(19),l=c.p+"static/media/a.0d14c3fc.jpeg",j=c.p+"static/media/logo.de1201b8.svg",b=c(9);function m(){var e=Object(b.useFirebase)();return Object(a.jsx)("div",{children:Object(a.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-white",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(o.b,{className:"navbar-brand",to:"/",children:Object(a.jsx)("img",{src:j,height:"30px",alt:"logo"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("ul",{className:"navbar-nav mr-auto"}),Object(a.jsxs)("ul",{className:"navbar-nav align-items-center",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(o.b,{to:"/studentForm",className:"btn btn-primary mr-3",children:"Add Student"})}),Object(a.jsxs)("li",{className:"nav-item dropdown",children:[Object(a.jsxs)("a",{className:"nav-a dropdown-toggle",href:"!#",id:"navbarDropdown","data-toggle":"dropdown",children:[Object(a.jsx)("img",{src:l,height:"50px"}),Object(a.jsx)("span",{className:"ml-2 navbar-text",children:"Arun Shaw"})]}),Object(a.jsxs)("div",{className:"dropdown-menu",children:[Object(a.jsx)("a",{className:"dropdown-item",href:"!#",children:"Profile"}),Object(a.jsx)("a",{onClick:function(){return e.logout()},className:"dropdown-item",href:"!#",children:"Logout"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)("a",{className:"dropdown-item",href:"!#",children:"Ads"})]})]})]})]})]})})})}var u=c(14),h=c.n(u),p=c(30);function O(e){var t=e.url,c=e.height,s=void 0===c?"100px":c,r=e.width,n=void 0===r?"100px":r;return Object(a.jsx)("div",{style:{width:n,margin:"auto",height:s},children:Object(a.jsx)("img",{src:t,alt:"user",className:"card-img-top rounded-circle"})})}var x=c(51);function v(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"loading",children:Object(a.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{height:"150px",width:"150px"},children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})})}var f=function(){var e=Object(x.b)((function(e){return e.firestore.ordered.studentdatabase})),t=Object(b.useFirestore)();if(console.log(e),Object(b.useFirestoreConnect)([{collection:"studentdatabase",orderBy:["createdAt","desc"]}]),!e)return Object(a.jsx)(v,{});var c=function(){var e=Object(p.a)(h.a.mark((function e(c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.collection("studentdatabase").doc(c).delete();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("error:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"py-4",children:Object(a.jsx)("div",{className:"row",children:e.map((function(e){return Object(a.jsx)("div",{className:"col-lg-3 col-md-6 mb-4",children:Object(a.jsxs)("div",{className:"card shadow text-center py-4",children:[Object(a.jsx)(O,{url:"https://i.pravatar.cc/150?img=".concat(e.id)}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title mb-0",children:e.name}),Object(a.jsx)("p",{className:"text-muted small",children:e.email}),Object(a.jsx)(o.c,{to:"/student/".concat(e.id),className:"btn btn-primary btn-profile",children:"View Profile"}),Object(a.jsx)("button",{className:"btn btn-edit",children:Object(a.jsx)("span",{className:"material-icons",onClick:function(){return c(e.id)},children:"delete_outline"})})]})]})},e.id)}))})})})},N=c(7),g=(c(373),c(52));var w=function(){var e=Object(b.useFirestore)(),t=Object(N.h)().id,c=Object(s.useState)(null),r=Object(g.a)(c,2),n=r[0],i=r[1],d=function(){var c=Object(p.a)(h.a.mark((function c(){var a,s;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a=e.collection("studentdatabase").doc(t),c.next=4,a.get();case 4:(s=c.sent).exists?i(s.data()):console.log("No such data found"),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log("error:",c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(){return c.apply(this,arguments)}}();return Object(s.useEffect)((function(){d()}),[]),n?Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"py-4",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-10 mx-auto",children:Object(a.jsx)("div",{className:"card card-body shadow",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-md-4",children:Object(a.jsx)(O,{url:"https://i.pravatar.cc/150?img=".concat(t)})}),Object(a.jsx)("div",{className:"col-md-8",children:Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsxs)("li",{className:"d-flex justify-content-between align-items-center list-group-item list-group-item-action",children:[Object(a.jsx)("h3",{className:"m-0",children:n.name}),Object(a.jsx)(o.c,{to:"/studentForm/".concat(t),className:"btn btn-primary",children:"edit profile"})]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsxs)("p",{children:["email:",n.email]}),Object(a.jsxs)("p",{children:["phone: ",n.phone]}),Object(a.jsxs)("p",{children:["class: ",n.standard]}),Object(a.jsxs)("p",{children:["address 1: ",n.address1]}),Object(a.jsxs)("p",{children:["address 2: ",n.address2]})]})]})})]})})})})})})}):Object(a.jsx)(v,{})},y=c(38);function E(){var e=Object(b.useFirestore)(),t=Object(N.h)().id,c=t?e.collection("studentdatabase").doc(t):null,r=Object(N.g)(),n=Object(s.useState)({name:"",email:"",phone:"",standard:"",address1:"",address2:""}),i=Object(g.a)(n,2),o=i[0],l=i[1],j=o.name,m=o.email,u=o.phone,O=o.standard,x=o.address1,v=o.address2,f=function(e){l(Object(d.a)(Object(d.a)({},o),{},Object(y.a)({},e.target.name,e.target.value)))};Object(s.useEffect)((function(){t&&w()}),[]);var w=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.get();case 3:(t=e.sent).exists?l(t.data()):console.log("data not found"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error :",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var a=Object(p.a)(h.a.mark((function a(s){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),console.log(v),!t){a.next=7;break}return a.next=5,c.update(Object(d.a)(Object(d.a)({},o),{},{updateddAt:e.FieldValue.serverTimestamp()}));case 5:a.next=8;break;case 7:e.collection("studentdatabase").add(Object(d.a)(Object(d.a)({},o),{},{createdAt:e.FieldValue.serverTimestamp()}));case 8:r.push("/");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"py-4",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-10 mx-auto",children:Object(a.jsx)("div",{className:"card card-body shadow",children:Object(a.jsxs)("form",{onSubmit:E,children:[Object(a.jsxs)("div",{className:"form-row form-group mb-4",children:[Object(a.jsx)("div",{className:"col-md-6",children:Object(a.jsx)("input",{type:"text",placeholder:"Enter Student Name",name:"name",value:j,className:"form-control",onChange:f})}),Object(a.jsx)("div",{className:"col-md-6",children:Object(a.jsx)("input",{placeholder:"Enter Student E-mail",name:"email",value:m,className:"form-control",onChange:f})})]}),Object(a.jsxs)("div",{className:"form-row form-group mb-4",children:[Object(a.jsx)("div",{className:"col-md-6",children:Object(a.jsx)("input",{type:"text",placeholder:"Enter Student Phone",name:"phone",value:u,className:"form-control",onChange:f})}),Object(a.jsx)("div",{className:"col-md-6",children:Object(a.jsx)("input",{type:"text",placeholder:"Enter Student Class",name:"standard",value:O,className:"form-control",onChange:f})})]}),Object(a.jsxs)("div",{className:"form-row form-group",children:[Object(a.jsx)("div",{className:"col-md-6",children:Object(a.jsx)("input",{type:"text",placeholder:"Enter Student Address Line 1",name:"address1",value:x,className:"form-control",onChange:f})}),Object(a.jsx)("div",{className:"col-md-6",children:Object(a.jsx)("input",{type:"text",placeholder:"Enter Student Line 2",name:"address2",value:v,className:"form-control",onChange:f})})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:t?"UPDATE STUDENT":"ADD STUDENT"})]})})})})})})})}var S=c(90),F=(c(374),c(376),c(50)),k=c(212),A=c(140);S.a.initializeApp({apiKey:"AIzaSyAKpLddhWwnHQzxkuEJY27L3VuE8maw1XY",authDomain:"studentbase-11e84.firebaseapp.com",databaseURL:"https://studentbase-11e84.firebaseio.com",projectId:"studentbase-11e84",storageBucket:"studentbase-11e84.appspot.com",messagingSenderId:"400612499",appId:"1:400612499:web:f05d9233154cec24928166",measurementId:"G-F9PT6N7KF2"}),S.a.firestore();var C=Object(F.combineReducers)({firebase:b.firebaseReducer,firestore:A.firestoreReducer}),D=Object(F.createStore)(C,{},Object(k.composeWithDevTools)()),L={firebase:S.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:D.dispatch,createFirestoreInstance:A.createFirestoreInstance},P=D;var T=function(){var e=Object(b.useFirebase)(),t=Object(N.g)(),c=Object(s.useState)({password:"",email:""}),r=Object(g.a)(c,2),n=r[0],i=r[1],o=function(e){i(Object(d.a)(Object(d.a)({},n),{},Object(y.a)({},e.target.name,e.target.value)))},l=n.email,m=n.password,u=function(){var c=Object(p.a)(h.a.mark((function c(a){return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.next=3,e.login(n);case 3:t.push("/");case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"py-5",children:Object(a.jsx)("div",{className:"row mt-5",children:Object(a.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(a.jsx)("div",{className:"card shadow",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("img",Object(y.a)({src:j,height:"30px",alt:"logo",className:"card-img-top mb-5"},"height","75px")),Object(a.jsxs)("form",{onSubmit:u,children:[Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{onChange:o,name:"email",className:"form-control",placeholder:"Enter Your E-mail",value:l})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Enter Your Password",value:m,onChange:o})}),Object(a.jsx)("button",{className:"btn btn-primary btn-block",children:"Login to dashboard"})]})]})})})})})})})},I=c(213),R=function(e){var t=e.component,c=Object(I.a)(e,["component"]),s=Object(x.b)((function(e){return e.firebase.auth}));return Object(b.isLoaded)(s)?Object(b.isEmpty)(s)?Object(a.jsx)(N.a,{to:"/login"}):Object(a.jsx)(N.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return Object(a.jsx)(t,Object(d.a)(Object(d.a)({},c),e))}})):Object(a.jsx)(v,{})};function U(){return Object(a.jsx)(x.a,{store:P,children:Object(a.jsx)(b.ReactReduxFirebaseProvider,Object(d.a)(Object(d.a)({},L),{},{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(R,{component:m}),Object(a.jsxs)(N.d,{children:[Object(a.jsx)(R,{exact:!0,path:"/",component:f}),Object(a.jsx)(R,{exact:!0,path:"/student/:id",component:w}),Object(a.jsx)(R,{exact:!0,path:"/studentForm/:id?",component:E}),Object(a.jsx)(N.b,{exact:!0,path:"/login",component:T})]})]})}))})}i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(U,{})}),document.getElementById("root"))}},[[409,1,2]]]);
//# sourceMappingURL=main.dde4913c.chunk.js.map